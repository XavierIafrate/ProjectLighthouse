<UserControl
    x:Class="ProjectLighthouse.View.Orders.Components.LatheOrderInspector"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:emoji="clr-namespace:Emoji.Wpf;assembly=Emoji.Wpf"
    xmlns:local="clr-namespace:ProjectLighthouse.View.Orders.Components"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:userControls="clr-namespace:ProjectLighthouse.View.UserControls"
    x:Name="parentControl"
    d:Background="White"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <!--<Border
                    Background="{StaticResource BlueFaded}"
                    CornerRadius="3"
                    Visibility="{Binding SelectedOrder.IsResearch, Converter={StaticResource boolToVisibleOrCollapsed}}">
                    <StackPanel Margin="10,5" Orientation="Horizontal">
                        <Path
                            Width="12"
                            Height="12"
                            Margin="0,2,5,0"
                            VerticalAlignment="Center"
                            Data="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"
                            Fill="{StaticResource Blue}"
                            Stretch="UniformToFill" />
                        <TextBlock
                            FontWeight="SemiBold"
                            Foreground="{StaticResource Blue}"
                            Text="This order is for Research and Development - deliveries will be disabled" />
                    </StackPanel>
                </Border>-->


    <StackPanel>
        <TabControl x:Name="OrderTabControl" Margin="0,10,0,0">
            <TabItem x:Name="preflightTab">
                <TabItem.Header>
                    <emoji:TextBlock
                        FontSize="14"
                        FontWeight="SemiBold"
                        Text="🚀 Pre-flight" />
                </TabItem.Header>
                <StackPanel>
                    <local:PreFlightIndicators
                        Height="70"
                        Margin="20,10"
                        Order="{Binding Order, ElementName=parentControl}" />

                    <local:DisplayOrderScheduleInformation Margin="10,10,10,20" Item="{Binding Order, ElementName=parentControl}" />
                    <Separator Margin="10,0" Background="{StaticResource Surface}">
                        <Separator.RenderTransform>
                            <ScaleTransform ScaleY="2" />
                        </Separator.RenderTransform>
                    </Separator>
                    <local:PreFlightChecklist
                        Margin="10"
                        EditMode="{Binding Path=EditMode, ElementName=parentControl}"
                        Order="{Binding Path=Order, ElementName=parentControl}" />

                </StackPanel>
            </TabItem>
            <!--<TabItem Header="Briefing">
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Border
                            Width="100"
                            Height="100"
                            Margin="5"
                            Background="{StaticResource Surface}"
                            CornerRadius="5">
                            <Grid>
                                <Path
                                    Height="40"
                                    Margin="0,0,2,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Data="M1,10V2L10,5V7L1,10M8,10V8H13V4H8V3L12,1L16,3V4H15V8H16V10H14.74L8.44,13.64L9,10H8M7,23L7.04,22.76L16.15,17.5L16.67,20.88L13,23H7M8.05,16.17L15.31,12L15.83,15.37L7.43,20.22L8.05,16.17Z"
                                    Fill="{StaticResource OnSurface}"
                                    Opacity="0.3"
                                    Stretch="Uniform" />
                                <Image
                                    Margin="10"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    RenderOptions.BitmapScalingMode="Fant"
                                    Source="{Binding SelectedProduct.LocalRenderPath, TargetNullValue={x:Null}}" />
                            </Grid>
                        </Border>
                        <StackPanel Grid.Column="1" Margin="10,0">
                            <TextBlock FontSize="18" FontWeight="Bold">
                                <Run d:Text="PRODUCT_NAME" Text="{Binding SelectedProduct.Name, TargetNullValue='Unknown'}" />
                                <Run Text="-" />
                                <Run d:Text="PRODUCT_DESCRIPTION" Text="{Binding SelectedProduct.Description, TargetNullValue='Unknown'}" />
                            </TextBlock>
                            <TextBlock
                                d:Text="ARCHETYPE_NAME"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Text="{Binding SelectedProductGroup.Name}" />

                            <Border
                                Margin="0,5"
                                Background="{StaticResource RedFaded}"
                                CornerRadius="5"
                                Visibility="{Binding SelectedProductGroup, Converter={StaticResource NullToVisibility}}">
                                <StackPanel
                                    Margin="5"
                                    HorizontalAlignment="Center"
                                    Orientation="Horizontal">
                                    <Path
                                        Width="14"
                                        Margin="3,0"
                                        Data="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M13,17H11V15H13V17M13,13H11V7H13V13Z"
                                        Fill="{StaticResource Red}"
                                        Stretch="Uniform" />
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontWeight="SemiBold"
                                        Foreground="{StaticResource Red}"
                                        Text="Archetype not found - no analysis available" />
                                </StackPanel>
                            </Border>

                            <Border
                                Margin="0,5"
                                Background="{StaticResource BlueFaded}"
                                CornerRadius="5"
                                Visibility="{Binding RunBeforeText, Converter={StaticResource NullToVisibility}}">
                                <StackPanel
                                    Margin="5"
                                    HorizontalAlignment="Center"
                                    Orientation="Horizontal">
                                    <Path
                                        Width="14"
                                        Margin="3,0"
                                        Data="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M13,17H11V15H13V17M13,13H11V7H13V13Z"
                                        Fill="{StaticResource Blue}"
                                        Stretch="Uniform" />
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontWeight="SemiBold"
                                        Foreground="{StaticResource Blue}"
                                        Text="This archetype has not been set before" />
                                </StackPanel>
                            </Border>

                            <Border
                                Margin="0,5"
                                Background="{StaticResource GreenFaded}"
                                CornerRadius="5"
                                Visibility="{Binding RunBeforeText, Converter={StaticResource NotNullToVisibility}}">
                                <StackPanel
                                    Margin="5"
                                    HorizontalAlignment="Center"
                                    Orientation="Horizontal">
                                    <Path
                                        Width="14"
                                        Margin="3,0"
                                        Data="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z"
                                        Fill="{StaticResource Green}"
                                        Stretch="Uniform" />
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        d:Text="This archetype has been set X times"
                                        FontWeight="SemiBold"
                                        Foreground="{StaticResource Green}"
                                        Text="{Binding RunBeforeText}" />
                                </StackPanel>
                            </Border>

                            <Grid Visibility="{Binding RunBeforeText, Converter={StaticResource NotNullToVisibility}}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <Border
                                        Margin="0,0,2.5,5"
                                        Background="{StaticResource GreenFaded}"
                                        CornerRadius="5"
                                        Visibility="{Binding RunInMaterialBefore, Converter={StaticResource boolToVisibleOrCollapsed}}">
                                        <StackPanel
                                            Margin="5"
                                            HorizontalAlignment="Center"
                                            Orientation="Horizontal">
                                            <Path
                                                Width="14"
                                                Margin="3,0"
                                                Data="M12,11A1,1 0 0,1 13,12A1,1 0 0,1 12,13A1,1 0 0,1 11,12A1,1 0 0,1 12,11M4.22,4.22C5.65,2.79 8.75,3.43 12,5.56C15.25,3.43 18.35,2.79 19.78,4.22C21.21,5.65 20.57,8.75 18.44,12C20.57,15.25 21.21,18.35 19.78,19.78C18.35,21.21 15.25,20.57 12,18.44C8.75,20.57 5.65,21.21 4.22,19.78C2.79,18.35 3.43,15.25 5.56,12C3.43,8.75 2.79,5.65 4.22,4.22M15.54,8.46C16.15,9.08 16.71,9.71 17.23,10.34C18.61,8.21 19.11,6.38 18.36,5.64C17.62,4.89 15.79,5.39 13.66,6.77C14.29,7.29 14.92,7.85 15.54,8.46M8.46,15.54C7.85,14.92 7.29,14.29 6.77,13.66C5.39,15.79 4.89,17.62 5.64,18.36C6.38,19.11 8.21,18.61 10.34,17.23C9.71,16.71 9.08,16.15 8.46,15.54M5.64,5.64C4.89,6.38 5.39,8.21 6.77,10.34C7.29,9.71 7.85,9.08 8.46,8.46C9.08,7.85 9.71,7.29 10.34,6.77C8.21,5.39 6.38,4.89 5.64,5.64M9.88,14.12C10.58,14.82 11.3,15.46 12,16.03C12.7,15.46 13.42,14.82 14.12,14.12C14.82,13.42 15.46,12.7 16.03,12C15.46,11.3 14.82,10.58 14.12,9.88C13.42,9.18 12.7,8.54 12,7.97C11.3,8.54 10.58,9.18 9.88,9.88C9.18,10.58 8.54,11.3 7.97,12C8.54,12.7 9.18,13.42 9.88,14.12M18.36,18.36C19.11,17.62 18.61,15.79 17.23,13.66C16.71,14.29 16.15,14.92 15.54,15.54C14.92,16.15 14.29,16.71 13.66,17.23C15.79,18.61 17.62,19.11 18.36,18.36Z"
                                                Fill="{StaticResource Green}"
                                                Stretch="Uniform" />
                                            <TextBlock
                                                VerticalAlignment="Center"
                                                FontWeight="SemiBold"
                                                Foreground="{StaticResource Green}"
                                                Text="Made in this material before" />
                                        </StackPanel>
                                    </Border>
                                    <Border
                                        Margin="0,0,2.5,5"
                                        Background="{StaticResource OrangeFaded}"
                                        CornerRadius="5"
                                        Visibility="{Binding RunInMaterialBefore, Converter={StaticResource boolToCollapsedOrVisible}}">
                                        <StackPanel
                                            Margin="5"
                                            HorizontalAlignment="Center"
                                            Orientation="Horizontal">
                                            <Path
                                                Width="14"
                                                Margin="3,0"
                                                Data="M12,11A1,1 0 0,1 13,12A1,1 0 0,1 12,13A1,1 0 0,1 11,12A1,1 0 0,1 12,11M4.22,4.22C5.65,2.79 8.75,3.43 12,5.56C15.25,3.43 18.35,2.79 19.78,4.22C21.21,5.65 20.57,8.75 18.44,12C20.57,15.25 21.21,18.35 19.78,19.78C18.35,21.21 15.25,20.57 12,18.44C8.75,20.57 5.65,21.21 4.22,19.78C2.79,18.35 3.43,15.25 5.56,12C3.43,8.75 2.79,5.65 4.22,4.22M15.54,8.46C16.15,9.08 16.71,9.71 17.23,10.34C18.61,8.21 19.11,6.38 18.36,5.64C17.62,4.89 15.79,5.39 13.66,6.77C14.29,7.29 14.92,7.85 15.54,8.46M8.46,15.54C7.85,14.92 7.29,14.29 6.77,13.66C5.39,15.79 4.89,17.62 5.64,18.36C6.38,19.11 8.21,18.61 10.34,17.23C9.71,16.71 9.08,16.15 8.46,15.54M5.64,5.64C4.89,6.38 5.39,8.21 6.77,10.34C7.29,9.71 7.85,9.08 8.46,8.46C9.08,7.85 9.71,7.29 10.34,6.77C8.21,5.39 6.38,4.89 5.64,5.64M9.88,14.12C10.58,14.82 11.3,15.46 12,16.03C12.7,15.46 13.42,14.82 14.12,14.12C14.82,13.42 15.46,12.7 16.03,12C15.46,11.3 14.82,10.58 14.12,9.88C13.42,9.18 12.7,8.54 12,7.97C11.3,8.54 10.58,9.18 9.88,9.88C9.18,10.58 8.54,11.3 7.97,12C8.54,12.7 9.18,13.42 9.88,14.12M18.36,18.36C19.11,17.62 18.61,15.79 17.23,13.66C16.71,14.29 16.15,14.92 15.54,15.54C14.92,16.15 14.29,16.71 13.66,17.23C15.79,18.61 17.62,19.11 18.36,18.36Z"
                                                Fill="{StaticResource Orange}"
                                                Stretch="Uniform" />
                                            <TextBlock
                                                VerticalAlignment="Center"
                                                FontWeight="SemiBold"
                                                Foreground="{StaticResource Orange}"
                                                Text="Not run in this material" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                                <Border
                                    Grid.Column="1"
                                    Margin="0,0,2.5,5"
                                    Background="{StaticResource PurpleFaded}"
                                    CornerRadius="5">
                                    <StackPanel
                                        Margin="5"
                                        HorizontalAlignment="Center"
                                        Orientation="Horizontal">
                                        <Path
                                            Width="14"
                                            Margin="3,0"
                                            Data="M4 2V8H2V2H4M2 22V16H4V22H2M5 12C5 13.11 4.11 14 3 14C1.9 14 1 13.11 1 12C1 10.9 1.9 10 3 10C4.11 10 5 10.9 5 12M16 4C20.42 4 24 7.58 24 12C24 16.42 20.42 20 16 20C12.4 20 9.36 17.62 8.35 14.35L6 12L8.35 9.65C9.36 6.38 12.4 4 16 4M15 13L19.53 15.79L20.33 14.5L16.5 12.2V7H15V13Z"
                                            Fill="{StaticResource Purple}"
                                            Stretch="Uniform" />
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            d:Text="Last made in MONTH"
                                            FontWeight="SemiBold"
                                            Foreground="{StaticResource Purple}"
                                            Text="{Binding LastMadeText}" />
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </StackPanel>
                    </Grid>
                    <Border
                        Margin="5"
                        CornerRadius="5"
                        Visibility="{Binding CycleTimeSeries, Converter={StaticResource NotNullToVisibility}}">
            -->
            <!--<lvc2:CartesianChart
                                                Height="300"
                                                Margin="0"
                                                AnimationsSpeed="0"
                                                Sections="{Binding Sections}"
                                                Series="{Binding CycleTimeSeries}"
                                                XAxes="{Binding CycleTimeXAxes}"
                                                YAxes="{Binding CycleTimeYAxes}" />-->
            <!--
                    </Border>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <TextBlock
                            Grid.Row="0"
                            Grid.Column="0"
                            Text="Response" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.Column="0"
                            d:Text="99.99 s/mm"
                            FontWeight="SemiBold"
                            Foreground="{StaticResource Purple}"
                            Text="{Binding SelectedOrder.TimeModelPlanned.Gradient, StringFormat='{}{0:0.00} s/mm'}" />
                        <TextBlock
                            Grid.Row="0"
                            Grid.Column="1"
                            Text="Response Intercept" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.Column="1"
                            d:Text="-5s"
                            FontWeight="SemiBold"
                            Foreground="{StaticResource Purple}"
                            Text="{Binding SelectedOrder.TimeModelPlanned.Intercept, StringFormat='{}{0}s'}" />
                        <TextBlock
                            Grid.Row="0"
                            Grid.Column="2"
                            Text="Time Floor" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.Column="2"
                            d:Text="60s"
                            FontWeight="SemiBold"
                            Foreground="{StaticResource Purple}"
                            Text="{Binding SelectedOrder.TimeModelPlanned.Floor, StringFormat='{}{0}s'}" />
                        <TextBlock
                            Grid.Row="0"
                            Grid.Column="3"
                            Text="Record Count" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.Column="3"
                            d:Text="10"
                            FontWeight="SemiBold"
                            Foreground="{StaticResource Purple}"
                            Text="{Binding SelectedOrder.TimeModelPlanned.RecordCount, StringFormat='{}{0:0}'}" />
                        <TextBlock
                            Grid.Row="0"
                            Grid.Column="4"
                            Text="Confidence" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.Column="4"
                            d:Text="100.0%"
                            FontWeight="SemiBold"
                            Foreground="{StaticResource Purple}"
                            Text="{Binding Order.TimeModelPlanned.CoefficientOfDetermination, ElementName=parentControl, StringFormat='{}{0:P1}'}" />
                    </Grid>
                </StackPanel>
            </TabItem>-->
            <TabItem x:Name="configTab">
                <TabItem.Header>
                    <emoji:TextBlock
                        FontSize="14"
                        FontWeight="SemiBold"
                        Text="⚙️ Configuration" />
                </TabItem.Header>
                <StackPanel IsEnabled="{Binding ElementName=parentControl, Path=HasConfigPermission}">
                    <TextBlock Text="Assigned To"/>
                    <ComboBox IsEnabled="{Binding Path=EditMode, ElementName=parentControl}" ItemsSource="{Binding ProductionStaff, ElementName=parentControl}" SelectedValue="{Binding Order.AssignedTo, ElementName=parentControl }" SelectedValuePath="UserName"/>
                </StackPanel>
            </TabItem>
            <TabItem x:Name="productionTab">
                <TabItem.Header>
                    <emoji:TextBlock
                        FontSize="14"
                        FontWeight="SemiBold"
                        Text="🌶️ Production" />
                </TabItem.Header>
                <!--  IsEnabledChanged="TabItem_IsEnabledChanged"  -->
                <StackPanel>
                    <Border Margin="5" CornerRadius="5">
                        <!--<lvc2:CartesianChart
                                                Height="300"
                                                Margin="0"
                                                Series="{Binding Series}"
                                                XAxes="{Binding XAxes}"
                                                YAxes="{Binding YAxes}" />-->
                    </Border>
                </StackPanel>
            </TabItem>
            <!--<TabItem Header="Programs">
                <ItemsControl d:ItemsSource="{d:SampleData ItemCount=5}" ItemsSource="{Binding ProgramCandidates}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock
                                    FontSize="16"
                                    FontWeight="SemiBold"
                                    Text="{Binding Name, StringFormat='{}Program {0}'}" />

                                <TextBlock
                                    Foreground="{StaticResource Orange}"
                                    Text="No Archetypes Targeted"
                                    Visibility="{Binding GroupStringIds, Converter={StaticResource EmptyListToVisibleOrCollapsed}}" />
                                <TextBlock
                                    Foreground="{StaticResource Green}"
                                    Text="Targets this Archetype"
                                    Visibility="{Binding GroupStringIds, Converter={StaticResource EmptyListToCollapsedOrVisible}}" />

                                <TextBlock
                                    Foreground="{StaticResource Orange}"
                                    Text="No Material Constraints"
                                    Visibility="{Binding MaterialsList, Converter={StaticResource EmptyListToVisibleOrCollapsed}}" />
                                <TextBlock
                                    Foreground="{StaticResource Green}"
                                    Text="Targets this material"
                                    Visibility="{Binding MaterialsList, Converter={StaticResource EmptyListToCollapsedOrVisible}}" />

                                <ItemsControl
                                    Margin="0"
                                    ItemsSource="{Binding TagsList}"
                                    Visibility="{Binding TagsList, Converter={StaticResource EmptyListToCollapsedOrVisible}}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <WrapPanel />
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                </ItemsControl>
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </TabItem>-->
            <!--<TabItem Header="Performance">
            -->
            <!--<uc:DisplayTimeUsage
                                        MinHeight="50"
                                        Breakdowns="{Binding SelectedOrderBreakdowns}"
                                        Order="{Binding SelectedOrder}"
                                        OrderItems="{Binding FilteredOrderItems}" />-->
            <!--
            </TabItem>-->
        </TabControl>

        <StackPanel>
            <TextBlock
                Margin="0,10,0,5"
                Style="{StaticResource section}"
                Text="{Binding Order.OrderItems.Count, ElementName=parentControl, StringFormat='{}Items ({0})', FallbackValue='Items (0)'}" />
            <Grid>
                <ItemsControl ItemsSource="{Binding Order.OrderItems, ElementName=parentControl}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <userControls:DisplayLMOItems Margin="10,2" LatheManufactureOrderItem="{Binding}" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                <Rectangle Fill="#01ffffff" />
            </Grid>

            <Border
                Margin="5,0"
                Background="{StaticResource OrangeFaded}"
                CornerRadius="5"
                Visibility="{Binding Order.PartsWillBePlated, ElementName=parentControl, Converter={StaticResource boolToVisibleOrCollapsed}}">
                <StackPanel
                    Margin="5"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">
                    <Path
                        Height="16"
                        Margin="5,0"
                        Data="M13,13H11V7H13M12,17.3A1.3,1.3 0 0,1 10.7,16A1.3,1.3 0 0,1 12,14.7A1.3,1.3 0 0,1 13.3,16A1.3,1.3 0 0,1 12,17.3M15.73,3H8.27L3,8.27V15.73L8.27,21H15.73L21,15.73V8.27L15.73,3Z"
                        Fill="{StaticResource Orange}"
                        Stretch="Uniform" />
                    <TextBlock
                        FontWeight="SemiBold"
                        Foreground="{StaticResource Orange}"
                        Text="These items will be plated after manufacture." />
                </StackPanel>
            </Border>

        </StackPanel>
        <!--#endregion-->


        <!--#region Drawings-->

        <StackPanel>
            <TextBlock
                Margin="0,15,0,5"
                Style="{StaticResource section}"
                Text="Drawings" />
            <!--<ItemsControl ItemsSource="{Binding FilteredDrawings}" Visibility="{Binding FilteredDrawings, Converter={StaticResource EmptyListToCollapsedOrVisible}}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <userControls:DisplayTechnicalDrawing
                            Margin="10,2"
                            Drawing="{Binding}"
                            OrderReference="{Binding RelativeSource={RelativeSource AncestorType={x:Type UserControl}, Mode=FindAncestor}, Path=DataContext.SelectedOrder.Name}" />
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>-->
            <!--<TextBlock
                HorizontalAlignment="Center"
                FontSize="18"
                FontStyle="Italic"
                Foreground="{StaticResource DisabledElement}"
                Text="None found"
                Visibility="{Binding FilteredDrawings, Converter={StaticResource EmptyListToVisibleOrCollapsed}}" />-->
        </StackPanel>

        <!--#endregion-->

        <!--#region Breakdowns-->



        <!--#endregion-->

        <!--#region Notes-->
        <!--
                            <TextBlock
                                Margin="0,15,0,5"
                                Style="{StaticResource section}"
                                Text="Notes" />
                            <Grid Visibility="{Binding FilteredNotes, Converter={StaticResource EmptyListToCollapsedOrVisible}}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="157*" />
                                    <ColumnDefinition Width="503*" />
                                </Grid.ColumnDefinitions>
                                <uc:DisplayListOfNotes Grid.ColumnSpan="2" Notes="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.FilteredNotes}" />
                                <Rectangle Grid.ColumnSpan="2" Fill="#01ffffff" />
                            </Grid>
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="18"
                                FontStyle="Italic"
                                Foreground="{StaticResource DisabledElement}"
                                Text="None found"
                                Visibility="{Binding FilteredNotes, Converter={StaticResource EmptyListToVisibleOrCollapsed}}" />
        -->
        <!--#endregion-->
        <!--
                        </StackPanel>-->
        <userControls:DisplayListOfNotes Notes="{Binding Order.Notes, ElementName=parentControl}"/>

    </StackPanel>
</UserControl>
