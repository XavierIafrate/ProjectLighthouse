<UserControl
    x:Class="ProjectLighthouse.View.Orders.Components.DisplayScheduleItem"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ProjectLighthouse.View.Orders.Components"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="parentControl"
    d:Background="White"
    mc:Ignorable="d">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="100" />
        </Grid.ColumnDefinitions>
        <StackPanel Margin="0,5" VerticalAlignment="Center">
            <StackPanel Orientation="Horizontal">
                <TextBlock
                    Text="{Binding Order.Name, ElementName=parentControl}"
                    d:Text="ORDER_NAME"
                    FontSize="20"
                    FontWeight="Bold"
                    Foreground="{StaticResource OnBackground}" />
                <!--<Border
                    x:Name="RecentUpdateFlag"
                    Width="10"
                    Height="10"
                    Margin="5,0,0,0"
                    HorizontalAlignment="Left"
                    Background="{StaticResource Blue}"
                    CornerRadius="5"
                    Opacity="0.7" />-->
            </StackPanel>

            <StackPanel Opacity="0.7" Orientation="Horizontal">
                <TextBlock
                    x:Name="AllocatedMachineTextBlock"
                    Margin="0,0,5,0"
                    d:Text="MACHINE"
                    Text="{Binding Order.AllocatedMachine, ElementName=parentControl}"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Foreground="{StaticResource OnBackground}" />
                <TextBlock
                    x:Name="PoTextBlock"
                    d:Text="PURCHASE_ORDER"
                    Text="{Binding Order.POReference, ElementName=parentControl}"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Foreground="{StaticResource Blue}" />

                <Path
                    Visibility="{Binding Order.AssignedTo, ElementName=parentControl, Converter={StaticResource NotNullToVisibility}}"
                    x:Name="clippy"
                    Width="12"
                    Height="12"
                    Data="M15,15.5A2.5,2.5 0 0,1 12.5,18A2.5,2.5 0 0,1 10,15.5V13.75A0.75,0.75 0 0,1 10.75,13A0.75,0.75 0 0,1 11.5,13.75V15.5A1,1 0 0,0 12.5,16.5A1,1 0 0,0 13.5,15.5V11.89C12.63,11.61 12,10.87 12,10C12,8.9 13,8 14.25,8C15.5,8 16.5,8.9 16.5,10C16.5,10.87 15.87,11.61 15,11.89V15.5M8.25,8C9.5,8 10.5,8.9 10.5,10C10.5,10.87 9.87,11.61 9,11.89V17.25A3.25,3.25 0 0,0 12.25,20.5A3.25,3.25 0 0,0 15.5,17.25V13.75A0.75,0.75 0 0,1 16.25,13A0.75,0.75 0 0,1 17,13.75V17.25A4.75,4.75 0 0,1 12.25,22A4.75,4.75 0 0,1 7.5,17.25V11.89C6.63,11.61 6,10.87 6,10C6,8.9 7,8 8.25,8M10.06,6.13L9.63,7.59C9.22,7.37 8.75,7.25 8.25,7.25C7.34,7.25 6.53,7.65 6.03,8.27L4.83,7.37C5.46,6.57 6.41,6 7.5,5.81V5.75A3.75,3.75 0 0,1 11.25,2A3.75,3.75 0 0,1 15,5.75V5.81C16.09,6 17.04,6.57 17.67,7.37L16.47,8.27C15.97,7.65 15.16,7.25 14.25,7.25C13.75,7.25 13.28,7.37 12.87,7.59L12.44,6.13C12.77,6 13.13,5.87 13.5,5.81V5.75C13.5,4.5 12.5,3.5 11.25,3.5C10,3.5 9,4.5 9,5.75V5.81C9.37,5.87 9.73,6 10.06,6.13M14.25,9.25C13.7,9.25 13.25,9.59 13.25,10C13.25,10.41 13.7,10.75 14.25,10.75C14.8,10.75 15.25,10.41 15.25,10C15.25,9.59 14.8,9.25 14.25,9.25M8.25,9.25C7.7,9.25 7.25,9.59 7.25,10C7.25,10.41 7.7,10.75 8.25,10.75C8.8,10.75 9.25,10.41 9.25,10C9.25,9.59 8.8,9.25 8.25,9.25Z"
                    Fill="{StaticResource Purple}"
                    Stretch="Uniform" />
                <TextBlock
                    x:Name="AssignmentTextBlock"
                    Visibility="{Binding Order.AssignedTo, ElementName=parentControl, Converter={StaticResource NotNullToVisibility}}"
                    d:Text="randy"
                    Text="{Binding Order.AssignedTo, ElementName=parentControl}"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Foreground="{StaticResource Purple}" />
            </StackPanel>

        </StackPanel>
        <!--<StackPanel
            Grid.Column="1"
            HorizontalAlignment="Right"
            VerticalAlignment="Center">
            <Border
                x:Name="ClosedBadge"
                Width="90"
                Height="22"
                Background="{StaticResource OnBackgroundFaded}"
                CornerRadius="3"
                ToolTip="This order has been completed and all lots delivered/scrapped.">

                <StackPanel
                    Margin="8,2"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">
                    <Path
                        Width="10"
                        Height="10"
                        Margin="0,0,5,0"
                        VerticalAlignment="Center"
                        Data="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z"
                        Fill="{StaticResource OnBackground}"
                        Stretch="Uniform" />
                    <TextBlock
                        Margin="0,0,0,1"
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Foreground="{StaticResource OnBackground}"
                        Text="Closed" />
                </StackPanel>
            </Border>

            <Border
                x:Name="StaleBadge"
                Width="90"
                Height="22"
                Background="{StaticResource RedFaded}"
                CornerRadius="3"
                ToolTip="Last update on problem was over 3 days ago">

                <StackPanel
                    Margin="8,2"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">
                    <Path
                        Width="10"
                        Height="10"
                        Margin="0,0,5,0"
                        HorizontalAlignment="Right"
                        Data="M12,2C16.46,2 20.26,4.95 21.54,9H18V20C16.33,21.25 14.25,22 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M16.2,16.2L17,14.9L12.5,12.2V7H11V13L16.2,16.2M20,11H22V18H20V11M20,20H22V22H20V20Z"
                        Fill="{StaticResource Red}"
                        Stretch="Uniform" />
                    <TextBlock
                        Margin="0,0,0,1"
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Foreground="{StaticResource Red}"
                        Text="Update" />
                </StackPanel>
            </Border>



        </StackPanel>-->
        <local:DisplayOrderStateBadge
            Grid.Column="2"
            VerticalAlignment="Center"
            OrderState="{Binding Order.State, ElementName=parentControl}" />
    </Grid>
</UserControl>
